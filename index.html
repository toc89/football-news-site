<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football News & Transfers</title>
    <style>
        /* ====== Overall Page Styles ====== */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #1e3a8a;    /* Dark blue background */
            color: #fff;                   /* White text */
            padding: 1rem 0;
            text-align: center;
        }
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        h2 {
            color: #1e3a8a; /* Dark blue headings */
            margin-bottom: 1rem;
        }
        .news-section {
            margin-bottom: 3rem;
        }
        /* ====== Individual Article Styles ====== */
        .news-item {
            background-color: #fff;
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .news-item h3 {
            margin: 0 0 0.5rem;
        }
        .news-item p {
            margin: 0.5rem 0;
            line-height: 1.4;
        }
        .news-item a {
            color: #1e3a8a;    /* Dark blue link */
            text-decoration: none;
        }
        .news-item a:hover {
            text-decoration: underline;
        }
        .loading {
            font-style: italic;
            color: #555;
        }
    </style>
</head>
<body>
    <header>
        <h1>Football News & Transfer Updates</h1>
    </header>

    <div class="container">
        <!-- Latest Football News Section -->
        <section id="latest-news" class="news-section">
            <h2>Latest Football News</h2>
            <div id="latest-news-container">
                <p class="loading">Loading latest football news...</p>
            </div>
        </section>

        <!-- Football Transfer News Section -->
        <section id="transfer-news" class="news-section">
            <h2>Football Transfer News</h2>
            <div id="transfer-news-container">
                <p class="loading">Loading transfer news...</p>
            </div>
        </section>
    </div>

    <script>
        // ─── YOUR NewsAPI.org KEY HERE ───
        const API_KEY = 'a6220284e3c94b838f44314febdecfd2';

        /**
         * Helper function that fetches news from NewsAPI.org
         *  - query: the search keywords (e.g. "football", "football transfer").
         *  - containerId: the ID of the <div> where articles will be inserted.
         */
        async function fetchNews(query, containerId) {
            // Encode query and limit to 10 results, sort by most recent
            const url =
              `https://newsapi.org/v2/everything?` +
              `q=${encodeURIComponent(query)}` +
              `&language=en` +           // English‐language articles
              `&sortBy=publishedAt` +    // Sort by newest first
              `&pageSize=10` +           // Max 10 articles
              `&apiKey=${API_KEY}`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                const container = document.getElementById(containerId);
                container.innerHTML = '';  // Clear the “Loading…” text

                // If the API returns an error or no articles, show a message
                if (data.status !== 'ok' || data.articles.length === 0) {
                    container.innerHTML = '<p>No articles found.</p>';
                    return;
                }

                // Otherwise, create a .news-item for each article
                data.articles.forEach(article => {
                    const item = document.createElement('div');
                    item.className = 'news-item';

                    // Article Title as a clickable link
                    const title = document.createElement('h3');
                    const link = document.createElement('a');
                    link.href = article.url;
                    link.target = '_blank';  // Opens in new tab
                    link.textContent = article.title;
                    title.appendChild(link);

                    // Article Description (if available)
                    const description = document.createElement('p');
                    description.textContent = article.description || '';

                    // Published Date/Time
                    const publishedAt = document.createElement('p');
                    publishedAt.style.fontSize = '0.85rem';
                    publishedAt.style.color = '#666';
                    publishedAt.textContent = new Date(article.publishedAt).toLocaleString();

                    // Append title, description, and timestamp into the news‐item
                    item.appendChild(title);
                    item.appendChild(description);
                    item.appendChild(publishedAt);

                    // Finally, append this item into the container
                    container.appendChild(item);
                });
            } catch (error) {
                console.error('Error fetching news:', error);
                const container = document.getElementById(containerId);
                container.innerHTML = '<p>Error loading news. Please try again later.</p>';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // 1) Fetch the most recent football headlines (e.g. "football OR soccer")
            fetchNews('football OR soccer', 'latest-news-container');

            // 2) Fetch the latest transfer stories (e.g. "football transfer OR soccer transfer")
            fetchNews('football transfer OR soccer transfer', 'transfer-news-container');
        });
    </script>
</body>
</html>

